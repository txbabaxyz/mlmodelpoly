# Binance Collector Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# CORE SETTINGS
# =============================================================================

# Trading pair symbol (uppercase)
SYMBOL=BTCUSDT

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# HTTP API server settings
HTTP_HOST=0.0.0.0
HTTP_PORT=8000

# =============================================================================
# BINANCE WEBSOCKET SETTINGS
# =============================================================================

# Futures WebSocket base URL
FUTURES_WS=wss://fstream.binance.com

# Spot WebSocket base URL
SPOT_WS=wss://stream.binance.com:9443

# REST API base URLs
FUTURES_REST_BASE=https://fapi.binance.com
SPOT_REST_BASE=https://api.binance.com

# Order book depth settings
DEPTH_ENABLED=true
# Options: 100ms (high frequency), 500ms (lower load), none (disabled)
DEPTH_SPEED=100ms
# Number of order book levels to track (1-20)
TOPN=10

# =============================================================================
# CONTEXT BOOTSTRAP (HTF Klines)
# =============================================================================

# Enable historical klines bootstrap on startup
CONTEXT_ENABLED=true

# Timeframes to bootstrap (comma-separated)
CONTEXT_TFS=1m,5m,15m,1h

# Number of klines per timeframe (1-1500)
CONTEXT_BOOTSTRAP_LIMIT=500

# Minimum bars for context to be considered ready
CONTEXT_MIN_READY_BARS=200

# =============================================================================
# TAAPI.IO INTEGRATION (Technical Indicators)
# =============================================================================

# Enable TAAPI integration
TAAPI_ENABLED=true

# TAAPI API secret key (get from https://taapi.io)
# Replace with your actual API key
TAAPI_SECRET=your_taapi_secret_key_here

# Exchange for TAAPI: binance, binancefutures
TAAPI_EXCHANGE=binancefutures

# Timeframes for TAAPI indicators
TAAPI_TFS=1m,5m,15m,1h

# =============================================================================
# POLYMARKET INTEGRATION
# =============================================================================

# Enable Polymarket prediction market integration
POLYMARKET_ENABLED=true

# Polymarket WebSocket URL
POLYMARKET_WS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market

# Polymarket Gamma API URL
POLYMARKET_GAMMA_API=https://gamma-api.polymarket.com

# Data freshness threshold (seconds)
POLYMARKET_STALE_THRESHOLD_SEC=5.0

# Execution constraints
POLYMARKET_MIN_DEPTH=200.0
POLYMARKET_MAX_SPREAD_BPS=500.0

# Token mapping: true = UP market = YES token
POLY_UP_IS_YES=true

# =============================================================================
# FAIR VALUE MODEL
# =============================================================================

# Enable fair value computation
FAIR_ENABLED=false

# Price smoothing EMA time constant (seconds)
PRICE_EMA_SEC=20.0

# =============================================================================
# VOLATILITY ESTIMATION
# =============================================================================

# Fast volatility window (minutes)
VOL_FAST_MINUTES=60

# Slow volatility window (minutes)
VOL_SLOW_MINUTES=360

# Minimum bars for valid calculation
VOL_MIN_BARS=20

# =============================================================================
# TRADING PARAMETERS
# =============================================================================

# Slice execution settings
SLICE_USD=20.0
MIN_SLICE_USD=20.0
MIN_TOP1_USD=20.0
MIN_TOP3_USD=60.0

# Spread cost model
EDGE_BUFFER_BPS=25.0
MAX_SPREAD_BPS_DEGRADED=400.0
MAX_SPREAD_BPS_BAD=800.0

# Decision cadence
SLOW_LOOP_SEC=1.0
COOLDOWN_SEC=2.0

# Budget per 15-minute window
MAX_SLICES_PER_WINDOW=30
MAX_USD_PER_WINDOW=300.0

# =============================================================================
# EVENT RECORDING (for backtesting)
# =============================================================================

# Enable high-frequency event recording
RECORD_ENABLED=false

# Output directory for recordings
RECORD_DIR=data/recordings

# Buffer size before flush
RECORD_BUFFER_SIZE=100

# Maximum milliseconds between flushes
RECORD_FLUSH_INTERVAL_MS=1000
